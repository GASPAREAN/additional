# Отчет

В ходе данной работы мной были изучены основы работы с Docker, создание и настройка контейнеров для различных сервисов (Apache HTTP Server, PHP-FPM, MariaDB), а также настройка cron для автоматического резервного копирования данных. Я настроила взаимодействие контейнеров через общую сеть и протестировала работу веб-сервера с установленной CMS Wordpress. Резервные копии успешно создавались и сохранялись в указанные директории.

# Вывод программы и ответы на вопросы

![1.png](images%2F1.png)
![2.png](images%2F2.png)
![3.png](images%2F3.png)
![4.png](images%2F4.png)
![5.png](images%2F5.png)

# Зачем необходимо создавать пользователя системы для каждого сайта?

### Безопасность:

- Изоляция: Если каждый сайт работает под своим пользователем, взлом одного сайта не даёт злоумышленнику доступ ко всем другим сайтам на сервере. Это изолирует потенциальные угрозы и минимизирует ущерб от атак.
- Разделение привилегий: Разделение прав и привилегий позволяет лучше контролировать доступ к системным ресурсам и предотвращать несанкционированные действия.
## Управляемость:

- Легкость администрирования: Администратору проще управлять правами доступа и отслеживать действия каждого пользователя, зная, какой пользователь отвечает за конкретный сайт.
- Персонализация настроек: Можно настроить окружение (например, конфигурации PHP или другие настройки) индивидуально для каждого сайта, что упрощает управление и повышает гибкость.
## Отслеживание и логирование:

-Прозрачность: Легче отслеживать действия и изменения в системе, зная, какой пользователь выполнял те или иные действия.
-Логирование: При возникновении проблем или инцидентов можно быстрее и точнее определить источник проблемы и принимать меры.
## Ресурсная изоляция:

- Квоты и ограничения: В некоторых окружениях можно установить квоты и ограничения на использование ресурсов (например, CPU, памяти) на уровне пользователя, что помогает предотвращать проблемы с производительностью и обеспечивать стабильность работы всех сайтов.

# В каких случаях Web сервер должен иметь полный доступ к папкам (папке) сайта?

- Логирование: Если веб-сервер ведет логи в директории сайта, ему необходим доступ для записи.

- Кэширование: Некоторые системы управления контентом (CMS) и веб-приложения используют кэширование на уровне файловой системы, что требует прав на запись.
- Загрузка файлов: Если сайт предоставляет возможность пользователям загружать файлы (например, изображения, документы), веб-сервер должен иметь права на запись в соответствующую директорию.
- Обновления и изменения контента: При использовании CMS, таких как WordPress или Joomla, веб-серверу необходим доступ для установки и обновления плагинов, тем и ядра системы.

- Сеансы и временные файлы:Некоторые приложения используют директории для хранения временных файлов и информации о сеансах пользователей, что также требует прав на запись.
- Создание резервных копий: Если веб-сервер самостоятельно выполняет создание резервных копий данных сайта, ему необходим доступ для чтения всех файлов и записи резервных копий в соответствующие директории.
- Управление контентом: При добавлении нового контента или изменении существующего (например, через административные панели), веб-серверу нужны права на запись и выполнение.
-
# Объяснение команд `chmod -R 0755 /home/www/anydir` и `> /proc/1/fd/1` в скриптах Shell

## Команда `chmod -R 0755 /home/www/anydir`

Команда `chmod` изменяет права доступа к файлам и директориям. Конкретно:

- `chmod`: изменяет права доступа.
- `-R`: рекурсивное изменение прав (для всех поддиректорий и файлов внутри указанной директории).
- `0755`: устанавливает права доступа:
    - `7` (владелец): чтение, запись, выполнение.
    - `5` (группа): чтение, выполнение.
    - `5` (остальные): чтение, выполнение.
- `/home/www/anydir`: путь к директории, для которой устанавливаются права.

Команда `chmod -R 0755 /home/www/anydir` рекурсивно устанавливает права доступа для владельца (полные), группы и всех остальных (чтение и выполнение) для директории `/home/www/anydir` и всего ее содержимого.

## Строка `> /proc/1/fd/1` в скриптах Shell

В Unix-подобных системах команды могут перенаправлять свой вывод. Строка:

- `>`: оператор перенаправления стандартного вывода.
- `/proc/1/fd/1`: путь к файловому дескриптору 1 процесса с PID 1 (init процесс).

Перенаправляет стандартный вывод команды в стандартный вывод процесса с PID 1, что часто используется для перенаправления в системный журнал (journalctl) в системах с `systemd`.